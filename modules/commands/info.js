module.exports.config={name:"info",version:"1.0.1",hasPermssion:0,credits:"Hung cho",description:"Xem thÃ´ng tin cuÌ‰a nhoÌm/ngÆ°Æ¡Ì€i duÌ€ng",commandCategory:"info",usages:"[box/user] @tag hoÄƒÌ£c [ID]",cooldowns:3,dependencies:{request:"",fs:""}},module.exports.run=async({api:e,event:n,args:a,Users:t,Threads:r,Currencies:i})=>{const s=global.nodemodule["fs-extra"],h=global.nodemodule.request,c=global.data.threadData.get(parseInt(n.threadID))||{},o=c.hasOwnProperty("PREFIX")?c.PREFIX:global.config.PREFIX;switch(a[0]){case"thread":case"-t":case"-b":case"box":{if(a[1]){let t=await e.getThreadInfo(a[1]);var d=(I=(await r.getData(a[1])).threadInfo).threadName||"TÃªn khÃ´ng tÃ´Ì€n taÌ£i";let i=t.imageSrc;var g=[],m=[];for(let e in t.userInfo){"MALE"==(D=t.userInfo[e].gender)?g.push(D):m.push(D)}var $=g.length,l=m.length;let c=t.approvalMode;var p=0==c?"taÌ†Ìt":1==c?"baÌ£Ì‚t":"Kh";if(i){var u=()=>e.sendMessage({body:`ğŸ‘€ TeÌ‚n nhoÌm: ${d}\nğŸ§© TID: ${n.threadID}\nğŸ¦‹ PheÌ‚ duyeÌ£Ì‚t: ${p}\nğŸ¤ Emoji: ${t.emoji}\nğŸ³ ThÃ´ng tin: \nğŸ‘» ${n.participantIDs.length} thÃ nh viÃªn vÃ  ${t.adminIDs.length} quáº£n trá»‹ viÃªn.\nğŸ¤·â€â™€ï¸ Gá»“m ${$} nam vÃ  ${l} ná»¯.\nğŸ“© Tá»•ng sá»‘ tin nháº¯n: ${t.messageCount}.`,attachment:s.createReadStream(__dirname+"/cache/1.png")},n.threadID,(()=>s.unlinkSync(__dirname+"/cache/1.png")),n.messageID);return h(encodeURI(`${t.imageSrc}`)).pipe(s.createWriteStream(__dirname+"/cache/1.png")).on("close",(()=>u()))}e.sendMessage(`ğŸ‘€ TeÌ‚n nhoÌm: ${d}\nğŸ§ TID: ${n.threadID}\nğŸ¦‹ PheÌ‚ duyeÌ£Ì‚t: ${p}\nğŸ’¸ Emoji: ${t.emoji}\nğŸ³ ThÃ´ng tin: \nğŸ¤¨ CoÌ ${n.participantIDs.length} thÃ nh viÃªn vÃ  ${I.adminIDs.length} quáº£n trá»‹ viÃªn.\nğŸ¤·â€â™€ï¸ Gá»“m ${$} nam vÃ  ${l} ná»¯.\nğŸ“© Tá»•ng sá»‘ tin nháº¯n: ${t.messageCount}.`,n.threadID,n.messageID);break}let t=await e.getThreadInfo(n.threadID);var I;d=(I=(await r.getData(n.threadID)).threadInfo).threadName||"TÃªn khÃ´ng tÃ´Ì€n taÌ£i";let i=t.imageSrc;g=[],m=[];for(let e in t.userInfo){var D;"MALE"==(D=t.userInfo[e].gender)?g.push(D):m.push(D)}$=g.length,l=m.length;let c=t.approvalMode;p=0==c?"taÌ†Ìt":1==c?"baÌ£Ì‚t":"Kh";if(i){u=()=>e.sendMessage({body:`ğŸ‘€ TeÌ‚n nhoÌm: ${d}\nğŸ§© TID: ${n.threadID}\nğŸ¦‹ PheÌ‚ duyeÌ£Ì‚t: ${p}\nğŸ¤ Emoji: ${t.emoji}\nğŸ³ ThÃ´ng tin: \nğŸ‘» ${t.participantIDs.length} thÃ nh viÃªn vÃ  ${t.adminIDs.length} quáº£n trá»‹ viÃªn.\nğŸ¤·â€â™€ï¸ Gá»“m ${$} nam vÃ  ${l} ná»¯.\nğŸ“© Tá»•ng sá»‘ tin nháº¯n: ${t.messageCount}.`,attachment:s.createReadStream(__dirname+"/cache/1.png")},n.threadID,(()=>s.unlinkSync(__dirname+"/cache/1.png")),n.messageID);return h(encodeURI(`${t.imageSrc}`)).pipe(s.createWriteStream(__dirname+"/cache/1.png")).on("close",(()=>u()))}e.sendMessage(`ğŸ‘€ TeÌ‚n nhoÌm: ${d}\nğŸ§ TID: ${n.threadID}\nğŸ¦‹ PheÌ‚ duyeÌ£Ì‚t: ${p}\nğŸ’¸ Emoji: ${t.emoji}\nğŸ³ ThÃ´ng tin: \nğŸ¤¨ CoÌ ${t.participantIDs.length} thÃ nh viÃªn vÃ  ${t.adminIDs.length} quáº£n trá»‹ viÃªn.\nğŸ¤·â€â™€ï¸ Gá»“m ${$} nam vÃ  ${l} ná»¯.\nğŸ“© Tá»•ng sá»‘ tin nháº¯n: ${t.messageCount}.`,n.threadID,n.messageID);break}case"-u":case"u":case"user":if(a[1]){if(-1!==a.join().indexOf("@")){var f=Object.keys(n.mentions);let a="https://facebook.com/"+`${f}`,r=global.data.userName.get(f)||await(await t.getData(f)).name;v=2==(_=(b=["1","2"])[Math.floor(Math.random()*b.length)])?"Nam":1==_?"NuÌ›Ìƒ":"TraÌ‚Ì€n ÄuÌ›Ìc Bo";let c=(await i.getData(n.mentions)).money;u=()=>e.sendMessage({body:`ğŸ’¦TÃªn: ${r}\nğŸURL cÃ¡ nhÃ¢n: ${a}\nğŸ§UID: ${f}\nğŸ¦‹Giá»›i tÃ­nh: ${v}\nğŸ¤‘ Sá»‘ tiá»n: ${c} Ä‘Ã´.`,attachment:s.createReadStream(__dirname+"/cache/1.png")},n.threadID,(()=>s.unlinkSync(__dirname+"/cache/1.png")),n.messageID);return h(encodeURI(`https://graph.facebook.com/${f}/picture?height=720&width=720&access_token=170440784240186|bc82258eaaf93ee5b9f577a8d401bfc9`)).pipe(s.createWriteStream(__dirname+"/cache/1.png")).on("close",(()=>u()))}{let r="https://facebook.com/"+`${a[1]}`,c=await t.getNameUser(a[1]);v=2==(_=(b=["1","2"])[Math.floor(Math.random()*b.length)])?"Nam":1==_?"NuÌ›Ìƒ":"TraÌ‚Ì€n ÄuÌ›Ìc Bo";let o=(await i.getData(a[1])).money;u=()=>e.sendMessage({body:`ğŸ’¦TÃªn: ${c}\nğŸURL cÃ¡ nhÃ¢n: ${r}\nğŸ§UID: ${a[1]}\nğŸ¦‹Giá»›i tÃ­nh: ${v}\nğŸ¤‘ Sá»‘ tiá»n: ${o} Ä‘Ã´.`,attachment:s.createReadStream(__dirname+"/cache/1.png")},n.threadID,(()=>s.unlinkSync(__dirname+"/cache/1.png")),n.messageID);return h(encodeURI(`https://graph.facebook.com/${a[1]}/picture?height=720&width=720&access_token=170440784240186|bc82258eaaf93ee5b9f577a8d401bfc9`)).pipe(s.createWriteStream(__dirname+"/cache/1.png")).on("close",(()=>u()))}}{"message_reply"==n.type?id=n.messageReply.senderID:id=n.senderID;let a="https://facebook.com/"+`${id}`,r=await t.getNameUser(id);var b,_,v=2==(_=(b=["1","2"])[Math.floor(Math.random()*b.length)])?"Nam":1==_?"NuÌ›Ìƒ":"TraÌ‚Ì€n ÄuÌ›Ìc Bo";let c=(await i.getData(id)).money;var u=()=>e.sendMessage({body:`ğŸ’¦TÃªn: ${r}\nğŸURL cÃ¡ nhÃ¢n: ${a}\nğŸ§UID: ${id}\nğŸ¦‹Giá»›i tÃ­nh: ${v}\nğŸ¤‘ Sá»‘ tiá»n: ${c} Ä‘Ã´.`,attachment:s.createReadStream(__dirname+"/cache/1.png")},n.threadID,(()=>s.unlinkSync(__dirname+"/cache/1.png")),n.messageID);return h(encodeURI(`https://graph.facebook.com/${id}/picture?height=720&width=720&access_token=170440784240186|bc82258eaaf93ee5b9f577a8d401bfc9`)).pipe(s.createWriteStream(__dirname+"/cache/1.png")).on("close",(()=>u()))}default:return e.sendMessage(`Báº¡n cÃ³ thá»ƒ dÃ¹ng:\n\n${o}${this.config.name} user => nÃ³ sáº½ láº¥y thÃ´ng tin cá»§a chÃ­nh báº¡n.\n\n${o}${this.config.name} user @[Tag] => nÃ³ sáº½ láº¥y thÃ´ng tin ngÆ°á»i báº¡n tag.\n\n${o}${this.config.name} box => nÃ³ sáº½ láº¥y thÃ´ng tin box cá»§a báº¡n (sá»‘ thÃ nh viÃªn, sÃ´Ì tin nhÄƒÌn,...)\n\n${o}${this.config.name} user box [uid || tid]`,n.threadID,n.messageID)}};
